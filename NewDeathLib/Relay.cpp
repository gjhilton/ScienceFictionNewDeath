#include "Relay.h"
#include "Arduino.h"

Relay::Relay(int _pin){
	pin = _pin;
}

/////////////////////////////////////////////////////////////////////////////////////////////////
// ARDUINO LIFECYCLE
////////////////////////////////////////////////////////////////////////////////////////////////

void Relay::begin(){
	pinMode(pin, OUTPUT);
	isON = false;
}

/////////////////////////////////////////////////////////////////////////////////////////////////
// PUBLIC API
////////////////////////////////////////////////////////////////////////////////////////////////

void Relay::on(){
	if (! isON){
		digitalWrite(pin, LOW);
		isON = true;
#ifdef RELAY_LOG_MODE
		Serial.print("Relay ON at t= ");
		Serial.println(millis());
#endif
	}
}

void Relay::off(){
	digitalWrite(pin, HIGH);
	isON = false;
#ifdef RELAY_LOG_MODE
		Serial.print("Relay off at t= ");
		Serial.println(millis());
#endif
		delay(200);
}