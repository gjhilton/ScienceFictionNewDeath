#include "FanChannel.h"
#include "Arduino.h"

FanChannel::FanChannel(int _pinLeft, int _pinRight){
	pinLeft = _pinLeft;
	pinRight = _pinRight;
}

/////////////////////////////////////////////////////////////////////////////////////////////////
// ARDUINO LIFECYCLE
////////////////////////////////////////////////////////////////////////////////////////////////

void FanChannel::begin(){
	pinMode(pinLeft, OUTPUT);
	pinMode(pinRight, OUTPUT);
	off();
}

void FanChannel::loop(){
	//
}

/////////////////////////////////////////////////////////////////////////////////////////////////
// PUBLIC API
////////////////////////////////////////////////////////////////////////////////////////////////

void FanChannel::on(){
	setSpeed(255);
}

void FanChannel::off(){
	setSpeed(0);
}

void FanChannel::setSpeed(int speed){
	analogWrite(pinRight, speed);
	analogWrite(pinLeft, speed);
}